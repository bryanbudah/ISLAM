{% extends 'base.html' %}
{% load static %}  <!-- Load static tag for custom.css -->

{% block content %}
<!-- Load Tailwind CSS (already included in base.html) -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<!-- Load custom.css AFTER Tailwind to override if needed -->
<link rel="stylesheet" href="{% static 'css/custom.css' %}">

<div class="article-detail container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">{{ article.title }}</h1>
    
    <div class="meta text-sm text-gray-600 mb-6">
        <span>By {{ article.author }}</span> |
        <span>{{ article.created_at|date:"F j, Y" }}</span> |
        <span>Category: {{ article.category.name }}</span>
    </div>
    
    {% if article.image %}
    <img src="{{ article.image.url }}" alt="{{ article.title }}" 
         class="featured-image w-full rounded-lg shadow-md mb-6">
    {% endif %}
    
    <div class="content prose max-w-none">
        {{ article.content|linebreaks }}
    </div>
    
    <!-- Related articles -->
    <div class="related mt-12">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">More Articles</h3>
        <ul class="space-y-2">
            {% for related in article.category.article_set.all|slice:":5" %}
                {% if related.id != article.id %}
                <li>
                    <a href="{{ related.get_absolute_url }}" 
                       class="text-blue-600 hover:underline">
                        {{ related.title }}
                    </a>
                </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}